import type { NextApiRequest, NextApiResponse } from 'next';

// 定义分类类型选项
const categoryTypes = {
    '电影': ['剧情', '喜剧', '家庭', '动作', '运动', '冒险', '爱情', '科幻', '奇幻', '动画', '音乐', '纪录', '传记', '历史', '战争', '西部', '灾难', '犯罪', '恐怖', '惊悚', '舞蹈', '其他'],
    '剧集': ['剧情', '喜剧', '家庭', '动作', '悬疑', '爱情', '科幻', '奇幻', '动画', '纪录', '传记', '历史', '战争', '犯罪', '恐怖', '惊悚', '其他'],
    '音乐': ['流行', '摇滚', '乡村', '爵士', '古典', '原声', '纯音乐', '舞曲', '说唱', '电子', '民谣', 'R&B', '其他'],
    '动漫': ['热血', '搞笑', '恋爱', '校园', '科幻', '奇幻', '冒险', '悬疑', '推理', '恐怖', '运动', '音乐', '日常', '治愈', '其他'],
    '游戏': ['动作', '冒险', '角色扮演', '策略', '模拟', '体育', '竞速', '格斗', '射击', '益智', '其他'],
    '综艺': ['真人秀', '选秀', '脱口秀', '竞技', '访谈', '美食', '旅游', '其他'],
    '体育': ['足球', '篮球', '网球', 'F1', '高尔夫', '游泳', '田径', '电竞', '其他'],
    '软件': ['操作系统', '办公软件', '图形图像', '多媒体', '安全相关', '网络工具', '编程开发', '系统工具', '其他'],
    '学习': ['计算机', '语言', '数学', '物理', '化学', '生物', '医学', '经济', '法律', '人文', '其他'],
    '纪录片': ['自然', '历史', '科学', '社会', '人文', '旅行', '美食', '军事', '其他']
};

// 定义地区选项
const regions = ['大陆', '香港', '台湾', '日本', '韩国', '美国', '法国', '英国', '印度', '德国', '泰国', '其他'];

// 定义年份选项
const years = Array.from({length: 30}, (_, i) => (new Date().getFullYear() - i).toString()).concat(['2000-2006', '1990s', '1980s', '1970s', '1970以前']);

// 定义种子价格选项
const seedPrices = ['免费', '1积分', '2积分', '5积分', '10积分'];

export default function handler(req: NextApiRequest, res: NextApiResponse) {
    if (req.method !== 'GET') {
        res.status(405).json({ error: 'Method Not Allowed' });
        return;
    }

    try {
        res.status(200).json({
            success: true,
            data: {
                categories: Object.keys(categoryTypes),
                categoryTypes,
                regions,
                years,
                seedPrices
            }
        });
    } catch (error) {
        console.error('获取预设选项出错:', error);
        res.status(500).json({ success: false, message: '服务器错误' });
    }
}